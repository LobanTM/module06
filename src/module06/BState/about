State — поведенческий шаблон проектирования.

Используется в тех случаях, когда во время выполнения программы объект
должен менять своё поведение в зависимости от своего состояния.

Паттерн состоит из 3 блоков:
Widget — класс, объекты которого должны менять своё поведение в зависимости от состояния.
IState — интерфейс, который должен реализовать каждое из конкретных состояний.
    Через этот интерфейс объект Widget взаимодействует с состоянием, делегируя ему вызовы методов.
    Интерфейс должен содержать средства для обратной связи с объектом, поведение которого нужно изменить.
    Для этого используется событие (паттерн Publisher — Subscriber). Это необходимо для того,
    чтобы в процессе выполнения программы заменять объект состояния при появлении событий.
    Возможны случаи, когда сам Widget периодически опрашивает объект состояние на наличие перехода.
StateA … StateZ — классы конкретных состояний. Должны содержать информацию о том,
    при каких условиях и в какие состояния может переходить объект из текущего состояния.
    Например, из StateA объект может переходить в состояние StateB и StateC, а из StateB —
    обратно в StateA и так далее. Объект одного из них должен содержать Widget при создании.

Шаги реализации

Определитесь с классом, который будет отыгрывать роль Контекста.
    Это может быть как существующий класс, в котором уже есть зависимость от состояния,
    так и новый класс, если код состояний размазан по нескольким классам.
Создайте интерфейс Состояния. Он должен содержать методы, общие для всех состояний, обнаруженных в Контексте.
Для каждого фактического состояния, создайте класс, реализующий интерфейс Состояния.
    Переместите весь код, связанный с конкретным состоянием в нужный класс.
    В конце концов, все методы интерфейса Состояние должны быть реализованы.
Поместите в Контекст поле типа Состояние.
Старые методы Контекста, в которых находился зависимый от состояния код,
    заменить на вызовы соответствующих методов объекта-состояния.
Либо внутри Контекста, либо внутри классов конкретных состояний разместите код,
    который изменяет текущее состояние контекста.